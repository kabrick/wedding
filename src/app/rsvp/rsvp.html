<section class="rsvp-hero">
  <div class="container">
    <h1>RSVP</h1>
    <p class="subtitle">Please let us know if you can join us for our special day</p>
  </div>
</section>

<section class="rsvp-form-section">
  <div class="container">
    <div class="rsvp-card">
      <h2>We Hope You Can Join Us!</h2>
      <p>Your presence would make our day complete. Please respond by October 19th, 2025.</p>
      
      <form class="rsvp-form" name="wedding-rsvp"
            #rsvpForm="ngForm"
            method="POST" 
            data-netlify="true"
            action="/thank-you">
        
        <!-- Guest Information -->
        <div class="form-group">
          <label for="guestName">Your Name *</label>
          <input 
            type="text" 
            id="guestName" 
            name="guestName"
            [(ngModel)]="formData.guestName" 
            required 
            class="form-control"
            placeholder="Enter your full name">
        </div>

        <div class="form-group">
          <label for="email">Email Address</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            [(ngModel)]="formData.email" 
            required 
            class="form-control"
            placeholder="your.email@example.com">
        </div>

        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input 
            type="tel" 
            id="phone" 
            name="phone"
            [(ngModel)]="formData.phone" 
            class="form-control"
            placeholder="0700123456">
        </div>

        <!-- Attendance -->
        <div class="form-group">
          <label class="attendance-label">Will you be attending? *</label>
          <div class="radio-group">
            <label class="radio-option">
              <input 
                type="radio" 
                name="attending" 
                value="yes"
                [(ngModel)]="formData.attending" 
                required>
              <span class="radio-custom"></span>
              <span class="radio-text">âœ¨ Joyfully Accept</span>
            </label>
            <label class="radio-option">
              <input 
                type="radio" 
                name="attending" 
                value="no"
                [(ngModel)]="formData.attending" 
                required>
              <span class="radio-custom"></span>
              <span class="radio-text">ðŸ˜¢ Regretfully Decline</span>
            </label>
          </div>
        </div>

        <!-- Guest Count (only show if attending) -->
        @if (formData.attending === 'yes') {
          <div class="form-group">
            <label for="guestCount">Number of Guests *</label>
            <select 
              id="guestCount" 
              name="guestCount"
              [(ngModel)]="formData.guestCount" 
              class="form-control"
              [required]="formData.attending === 'yes'">
              <option value="">Select number of guests</option>
              <option value="1">Just me</option>
              <option value="2">2 guests (me + 1)</option>
              <option value="3">3 guests (me + 2)</option>
              <option value="4">4 guests (me + 3)</option>
            </select>
          </div>
        }

        <!-- Guest Names (only show if attending and more than 1 guest) -->
        @if (formData.attending === 'yes' && parseInt(formData.guestCount) > 1) {
          <div class="form-group">
            <label for="additionalGuests">Names of Additional Guests</label>
            <textarea 
              id="additionalGuests" 
              name="additionalGuests"
              [(ngModel)]="formData.additionalGuests" 
              class="form-control"
              rows="3"
              placeholder="Please list the names of your additional guests">
            </textarea>
          </div>
        }

        <!-- Special Message -->
        <div class="form-group">
          <label for="message">Special Message for the Happy Couple ðŸ’•</label>
          <textarea 
            id="message" 
            name="message"
            [(ngModel)]="formData.message" 
            class="form-control"
            rows="4"
            placeholder="Share your well wishes, favorite memory, or anything you'd like to tell us!">
          </textarea>
        </div>

        <!-- Submit Button -->
        <div class="form-actions">
          <button 
            type="submit" 
            class="btn rsvp-btn"
            [disabled]="!rsvpForm.form.valid || isSubmitting">
            @if (isSubmitting) {
              <span>Sending...</span>
            } @else {
              <span>Send RSVP</span>
            }
          </button>
        </div>

        <!-- Success Message -->
        @if (showSuccessMessage) {
          <div class="success-message">
            <div class="success-icon">âœ…</div>
            <h3>Thank You!</h3>
            <p>Your RSVP has been received. We can't wait to celebrate with you!</p>
          </div>
        }
      </form>
    </div>
  </div>
</section>
